<!doctype html><html lang=en-us><head><link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Restore MySQL Database From ibdata and .frm Files | Everything is Gray</title>
<link rel=canonical href=https://everythingisgray.com/2010/07/21/restore-mysql-database-from-ibdata-and-frm-files/><meta name=description content="A place to put stuff."><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:url" content="https://everythingisgray.com/2010/07/21/restore-mysql-database-from-ibdata-and-frm-files/"><meta property="og:site_name" content="Everything is Gray"><meta property="og:title" content="Restore MySQL Database From ibdata and .frm Files"><meta property="og:description" content="Last week I was presented with a problem that involved restoring a MySQL database for a client using only the /data folder from an original MySQL installation. The solution turned out to be rather simple, but that didn’t stop me from racking my brain for a few hours. Thus, I thought I’d share my experience in hopes of helping others that may run into this.
NOTE The MySQL database I was tasked with restoring was associated with a WordPress installation. My guess is that this is irrelevant, though."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2010-07-21T00:00:00+00:00"><meta property="article:modified_time" content="2020-10-25T12:39:11-04:00"><meta property="article:tag" content="MySQL"><meta property="article:tag" content="Web Development"><meta name=twitter:card content="summary"><meta name=twitter:title content="Restore MySQL Database From ibdata and .frm Files"><meta name=twitter:description content="Last week I was presented with a problem that involved restoring a MySQL database for a client using only the /data folder from an original MySQL installation. The solution turned out to be rather simple, but that didn’t stop me from racking my brain for a few hours. Thus, I thought I’d share my experience in hopes of helping others that may run into this.
NOTE The MySQL database I was tasked with restoring was associated with a WordPress installation. My guess is that this is irrelevant, though."><link rel=stylesheet href=/css/style.min.338e2bac4a86fea13fc9163b1b421ee9ad433fce699e1148e9b10a3858e25908.css integrity="sha256-M44rrEqG/qE/yRY7G0Ie6a1DP85pnhFI6bEKOFjiWQg=" crossorigin=anonymous><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=apple-touch-icon sizes=180x180 href=https://everythingisgray.com/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://everythingisgray.com/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://everythingisgray.com/favicon-16x16.png><link rel=manifest href=https://everythingisgray.com/site.webmanifest><link rel=mask-icon href=https://everythingisgray.com/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><script async src="https://www.googletagmanager.com/gtag/js?id=G-7FEYPKH74D"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-7FEYPKH74D")}</script></head><body class="max-width mx-auto px3 ltr"><div class="content index py4"><div id=header-post><a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick='$("html, body").animate({scrollTop:0},"fast")' style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu><span id=nav><ul><li><a href=/>Home</a></li><li><a href=/about/>About</a></li><li><a href=/post/>Blog</a></li><li><a href=/projects/>Projects</a></li><li><a href=/research/>Research</a></li><li><a href=/talks/>Talks</a></li></ul></span><br><span id=actions><ul><li><a class=icon href=https://everythingisgray.com/2010/04/16/in-store-signing-at-pages-bookstore/ aria-label=Previous><i class="fas fa-chevron-left" aria-hidden=true onmouseover='$("#i-prev").toggle()' onmouseout='$("#i-prev").toggle()'></i></a></li><li><a class=icon href=https://everythingisgray.com/2010/08/19/how-i-use-automator-to-post-images-to-tumblr/ aria-label=Next><i class="fas fa-chevron-right" aria-hidden=true onmouseover='$("#i-next").toggle()' onmouseout='$("#i-next").toggle()'></i></a></li><li><a class=icon href=# onclick='$("html, body").animate({scrollTop:0},"fast")' aria-label="Top of Page"><i class="fas fa-chevron-up" aria-hidden=true onmouseover='$("#i-top").toggle()' onmouseout='$("#i-top").toggle()'></i></a></li><li><a class=icon href=# aria-label=Share><i class="fas fa-share-alt" aria-hidden=true onmouseover='$("#i-share").toggle()' onmouseout='$("#i-share").toggle()' onclick='return $("#share").toggle(),!1'></i></a></li></ul><span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span></span><br><div id=share style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2feverythingisgray.com%2f2010%2f07%2f21%2frestore-mysql-database-from-ibdata-and-frm-files%2f" aria-label=Facebook><i class="fab fa-facebook" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2feverythingisgray.com%2f2010%2f07%2f21%2frestore-mysql-database-from-ibdata-and-frm-files%2f&text=Restore%20MySQL%20Database%20From%20ibdata%20and%20.frm%20Files" aria-label=Twitter><i class="fab fa-twitter" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2feverythingisgray.com%2f2010%2f07%2f21%2frestore-mysql-database-from-ibdata-and-frm-files%2f&title=Restore%20MySQL%20Database%20From%20ibdata%20and%20.frm%20Files" aria-label=Linkedin><i class="fab fa-linkedin" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2feverythingisgray.com%2f2010%2f07%2f21%2frestore-mysql-database-from-ibdata-and-frm-files%2f&is_video=false&description=Restore%20MySQL%20Database%20From%20ibdata%20and%20.frm%20Files" aria-label=Pinterest><i class="fab fa-pinterest" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=Restore%20MySQL%20Database%20From%20ibdata%20and%20.frm%20Files&body=Check out this article: https%3a%2f%2feverythingisgray.com%2f2010%2f07%2f21%2frestore-mysql-database-from-ibdata-and-frm-files%2f" aria-label=Email><i class="fas fa-envelope" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2feverythingisgray.com%2f2010%2f07%2f21%2frestore-mysql-database-from-ibdata-and-frm-files%2f&title=Restore%20MySQL%20Database%20From%20ibdata%20and%20.frm%20Files" aria-label=Pocket><i class="fab fa-get-pocket" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2feverythingisgray.com%2f2010%2f07%2f21%2frestore-mysql-database-from-ibdata-and-frm-files%2f&title=Restore%20MySQL%20Database%20From%20ibdata%20and%20.frm%20Files" aria-label=reddit><i class="fab fa-reddit" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2feverythingisgray.com%2f2010%2f07%2f21%2frestore-mysql-database-from-ibdata-and-frm-files%2f&name=Restore%20MySQL%20Database%20From%20ibdata%20and%20.frm%20Files&description=%3cp%3eLast%20week%20I%20was%20presented%20with%20a%20problem%20that%20involved%20restoring%20a%20MySQL%20database%20for%20a%20client%20using%20only%20the%20%3ccode%3e%2fdata%3c%2fcode%3e%20folder%20from%20an%20original%20MySQL%20installation.%20The%20solution%20turned%20out%20to%20be%20rather%20simple%2c%20but%20that%20didn%26rsquo%3bt%20stop%20me%20from%20racking%20my%20brain%20for%20a%20few%20hours.%20Thus%2c%20I%20thought%20I%26rsquo%3bd%20share%20my%20experience%20in%20hopes%20of%20helping%20others%20that%20may%20run%20into%20this.%3c%2fp%3e%0a%3cp%3e%3cem%3eNOTE%3c%2fem%3e%20The%20MySQL%20database%20I%20was%20tasked%20with%20restoring%20was%20associated%20with%20a%20WordPress%20installation.%20My%20guess%20is%20that%20this%20is%20irrelevant%2c%20though.%3c%2fp%3e" aria-label=Tumblr><i class="fab fa-tumblr" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2feverythingisgray.com%2f2010%2f07%2f21%2frestore-mysql-database-from-ibdata-and-frm-files%2f&t=Restore%20MySQL%20Database%20From%20ibdata%20and%20.frm%20Files" aria-label="Hacker News"><i class="fab fa-hacker-news" aria-hidden=true></i></a></li></ul></div><div id=toc><nav id=TableOfContents></nav></div></span></div><article class=post itemscope itemtype=http://schema.org/BlogPosting><header><h1 class=posttitle itemprop="name headline">Restore MySQL Database From ibdata and .frm Files</h1><hr><div class=meta><div class=postdate>Posted by</div><span class=author itemprop=author itemscope itemtype=http://schema.org/Person><span itemprop=name><a href=/about/>James Barclay</a></span></span><div class=postdate>on
<time datetime="2010-07-21 00:00:00 +0000 UTC" itemprop=datePublished>2010-07-21</time>
(Updated: <time datetime="2020-10-25 12:39:11 -0400 -0400" itemprop=dateModified>2020-10-25</time>)</div><div class=article-read-time><i class="far fa-clock"></i>
2 minute read</div><div class=article-category><i class="fas fa-archive"></i>
<a class=category-link href=/categories/technology>Technology</a>, <a class=category-link href=/categories/web-development>Web Development</a></div><div class=article-tag><i class="fas fa-tag"></i>
<a class=tag-link href=/tags/mysql rel=tag>MySQL</a>, <a class=tag-link href=/tags/web-development rel=tag>Web Development</a></div></div></header><hr><div class=content itemprop=articleBody><p>Last week I was presented with a problem that involved restoring a MySQL database for a client using only the <code>/data</code> folder from an original MySQL installation. The solution turned out to be rather simple, but that didn&rsquo;t stop me from racking my brain for a few hours. Thus, I thought I&rsquo;d share my experience in hopes of helping others that may run into this.</p><p><em>NOTE</em> The MySQL database I was tasked with restoring was associated with a WordPress installation. My guess is that this is irrelevant, though.</p><p><em>ALSO NOTE</em> This article assumes you are comfortable with software solutions such as <a href=http://www.mamp.info/en/index.html>MAMP</a> and/or <a href=http://www.apachefriends.org/en/xampp.html>XAMPP</a>, as well as <a href=http://www.phpmyadmin.net/home_page/index.php>phpMyAdmin</a>.</p><p>I made the decision early on to solve this problem locally, (I find that working directly from a web server usually just gets me into trouble).  I use MAMP on a regular basis and as such have quite a few MySQL databases associated with that installation. Rather than fooling with this at all I opted to use XAMPP on a Windows XP SP2 machine. Either one of these solutions will work, as they essentially provide the same services. I chose to avoid using MAMP on my machine because of everything I have invested into that application, but that doesn&rsquo;t mean you have to.</p><p>The first thing you&rsquo;ll want to do is install a fresh copy of either MAMP, (Mac only), or XAMPP. Then create an empty database using phpMyAdmin with the same name as your original database, (the one you&rsquo;re trying to restore). For example, if your previous database was called &lsquo;wordpress,&rsquo; in phpMyAdmin, (under the &lsquo;Create new database&rsquo; text field), you would enter &lsquo;wordpress.&rsquo; This will create a folder named <code>wordpress</code> in <code>/Applications/MAMP/db/mysql</code> if you&rsquo;re using MAMP, or <code>C:\xampp\mysql</code> if you&rsquo;re using XAMPP. At this point you&rsquo;ll want to turn off the MySQL service. Now, copy the contents of, (not the entire folder), your mysql database folder that contains the .frm files to the new location. The next step is to copy the <code>ibdata1</code> file to the MySQL folder in either XAMPP or MAMP, then start the MySQL service again. Now you should be able to locate your database tables in phpMyAdmin.</p><p>At this point, (assuming you don&rsquo;t want to keep the data locally on your machine), you&rsquo;ll want to export the database using phpMyAdmin. Be sure to check Add DROP TABLE, choose SQL as the export type, and check the &lsquo;Save as file&rsquo; checkbox. The .sql file that will be generated can easily be imported into another instance of phpMyAdmin. The new database doesn&rsquo;t need to have the same name as the previous database, either. I was unable to use my previous database name because the site I was working on had been moved to a shared hosting server, (where someone had already chosen the name of my previous database), and everything worked fine.</p><p>Also keep in mind that this can be accomplished whether or not your server is running phpMyAdmin. There are plenty of alternatives available that will allow you to accomplish the same tasks, and there&rsquo;s always the command line. The most important step is to simply copy the contents of the <code>/data</code> folder and the <code>ibdata1</code> file. Hope this helps!</p><p>Leave a comment if you have any questions!</p></div></article><div id=footer-post-container><div id=footer-post><div id=nav-footer style=display:none><ul><li><a href=/>Home</a></li><li><a href=/about/>About</a></li><li><a href=/post/>Blog</a></li><li><a href=/projects/>Projects</a></li><li><a href=/research/>Research</a></li><li><a href=/talks/>Talks</a></li></ul></div><div id=toc-footer style=display:none><nav id=TableOfContents></nav></div><div id=share-footer style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2feverythingisgray.com%2f2010%2f07%2f21%2frestore-mysql-database-from-ibdata-and-frm-files%2f" aria-label=Facebook><i class="fab fa-facebook fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2feverythingisgray.com%2f2010%2f07%2f21%2frestore-mysql-database-from-ibdata-and-frm-files%2f&text=Restore%20MySQL%20Database%20From%20ibdata%20and%20.frm%20Files" aria-label=Twitter><i class="fab fa-twitter fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2feverythingisgray.com%2f2010%2f07%2f21%2frestore-mysql-database-from-ibdata-and-frm-files%2f&title=Restore%20MySQL%20Database%20From%20ibdata%20and%20.frm%20Files" aria-label=Linkedin><i class="fab fa-linkedin fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2feverythingisgray.com%2f2010%2f07%2f21%2frestore-mysql-database-from-ibdata-and-frm-files%2f&is_video=false&description=Restore%20MySQL%20Database%20From%20ibdata%20and%20.frm%20Files" aria-label=Pinterest><i class="fab fa-pinterest fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=Restore%20MySQL%20Database%20From%20ibdata%20and%20.frm%20Files&body=Check out this article: https%3a%2f%2feverythingisgray.com%2f2010%2f07%2f21%2frestore-mysql-database-from-ibdata-and-frm-files%2f" aria-label=Email><i class="fas fa-envelope fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2feverythingisgray.com%2f2010%2f07%2f21%2frestore-mysql-database-from-ibdata-and-frm-files%2f&title=Restore%20MySQL%20Database%20From%20ibdata%20and%20.frm%20Files" aria-label=Pocket><i class="fab fa-get-pocket fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2feverythingisgray.com%2f2010%2f07%2f21%2frestore-mysql-database-from-ibdata-and-frm-files%2f&title=Restore%20MySQL%20Database%20From%20ibdata%20and%20.frm%20Files" aria-label=reddit><i class="fab fa-reddit fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2feverythingisgray.com%2f2010%2f07%2f21%2frestore-mysql-database-from-ibdata-and-frm-files%2f&name=Restore%20MySQL%20Database%20From%20ibdata%20and%20.frm%20Files&description=%3cp%3eLast%20week%20I%20was%20presented%20with%20a%20problem%20that%20involved%20restoring%20a%20MySQL%20database%20for%20a%20client%20using%20only%20the%20%3ccode%3e%2fdata%3c%2fcode%3e%20folder%20from%20an%20original%20MySQL%20installation.%20The%20solution%20turned%20out%20to%20be%20rather%20simple%2c%20but%20that%20didn%26rsquo%3bt%20stop%20me%20from%20racking%20my%20brain%20for%20a%20few%20hours.%20Thus%2c%20I%20thought%20I%26rsquo%3bd%20share%20my%20experience%20in%20hopes%20of%20helping%20others%20that%20may%20run%20into%20this.%3c%2fp%3e%0a%3cp%3e%3cem%3eNOTE%3c%2fem%3e%20The%20MySQL%20database%20I%20was%20tasked%20with%20restoring%20was%20associated%20with%20a%20WordPress%20installation.%20My%20guess%20is%20that%20this%20is%20irrelevant%2c%20though.%3c%2fp%3e" aria-label=Tumblr><i class="fab fa-tumblr fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2feverythingisgray.com%2f2010%2f07%2f21%2frestore-mysql-database-from-ibdata-and-frm-files%2f&t=Restore%20MySQL%20Database%20From%20ibdata%20and%20.frm%20Files" aria-label="Hacker News"><i class="fab fa-hacker-news fa-lg" aria-hidden=true></i></a></li></ul></div><div id=actions-footer><a id=menu-toggle class=icon href=# onclick='return $("#nav-footer").toggle(),!1' aria-label=Menu><i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=toc-toggle class=icon href=# onclick='return $("#toc-footer").toggle(),!1' aria-label=TOC><i class="fas fa-list fa-lg" aria-hidden=true></i> TOC</a>
<a id=share-toggle class=icon href=# onclick='return $("#share-footer").toggle(),!1' aria-label=Share><i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick='$("html, body").animate({scrollTop:0},"fast")' aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a></div></div></div><footer id=footer><div class=footer-left>Copyright &copy; 2024 James Barclay</div><div class=footer-right><nav><ul><li><a href=/>Home</a></li><li><a href=/about/>About</a></li><li><a href=/post/>Blog</a></li><li><a href=/projects/>Projects</a></li><li><a href=/research/>Research</a></li><li><a href=/talks/>Talks</a></li></ul></nav></div></footer></div></body><link rel=stylesheet href=/lib/font-awesome/css/all.min.css><script src=/lib/jquery/jquery.min.js></script><script src=/js/main.js></script></html>